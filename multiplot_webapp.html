<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Centrality Metrics Comparison</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            background-color: #f0f0f0;
        }
        .container {
            width: 800px;
            padding: 20px;
            background: #fff;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            border-radius: 10px;
        }
        h1 {
            text-align: center;
            color: maroon;
            text-shadow: 2px 2px 4px #000000;
        }
        .dropdowns {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }
        select {
            width: 45%;
            padding: 10px;
            border-radius: 5px;
            border: 1px solid #ccc;
        }
        button {
            display: block;
            width: 100%;
            padding: 10px;
            background-color: maroon;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover {
            background-color: #800000;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Computational Structural Biology</h1>
    <div class="dropdowns">
        <select id="x-axis">
            <option value="Eigenvector centrality values">Eigenvector centrality values</option>
            <option value="Betweenness centrality values">Betweenness centrality values</option>
            <option value="Degree centrality values">Degree centrality values</option>
            <option value="Closeness centrality values">Closeness centrality values</option>
        </select>
        <select id="y-axis">
            <option value="Eigenvector centrality values">Eigenvector centrality values</option>
            <option value="Betweenness centrality values">Betweenness centrality values</option>
            <option value="Degree centrality values">Degree centrality values</option>
            <option value="Closeness centrality values">Closeness centrality values</option>
        </select>
    </div>
    <button onclick="updatePlot()">Plot Data</button>
    <div id="plot"></div>
</div>

<script>
    const norm_vals = {
        'Eigenvector centrality values': [0.00273208790467283,
 0.049995951036306926,
 0.03395101494881921,
 0.13260126125163027,
 0.10406770288240906,
 0.042659387792397294,
 0.05271061233486431,
 0.16144445237234642,
 0.14340841785748593,
 0.01914128576757599,
 0.11255831932818948,
 0.2052390488785943,
 0.06726307173788824,
 8.193614611259449e-05,
 0.0005888440245022499,
 1.645690310366874e-05,
 0.0003915157115296404,
 0.0004414337951225623,
 7.882687562942692e-05,
 3.316331900968283e-06,
 0.001867605353431888,
 0.00037586839929146064,
 1.6504114391776264e-05,
 0.0025744456862832215,
 0.0016399778769331454,
 0.00011765458913188701,
 0.0013580144672750115,
 0.00020951095164485463,
 0.0006527747709857023,
 4.214404540342838e-05,
 0.0008819499116975248,
 0.00012192393107898787,
 0.0038516468898732938,
 0.001706034846032547,
 0.0005816663974489596,
 0.00047434761839867067,
 0.00447269282924636,
 0.0018887034250119716,
 0.001814807665541458,
 0.006604633318481317,
 0.00867092685038058,
 0.0008925092638507519,
 0.01549548666202839,
 0.012640167187762045,
 0.0032273371238292314,
 0.0031104530355610905,
 0.1202347096179548,
 0.0025392546446459632,
 9.088620100290571e-48,
 0.3351325925893794,
 0.08162268473076495,
 9.088620100290571e-48,
 0.008559025705790547,
 0.1147951522115149,
 0.11088554451760874,
 0.159861120154954,
 0.20267070797219733,
 0.04264498427317547,
 0.1595645604948496,
 0.020308934323616634,
 0.0188621047206515,
 0.005365715367743612,
 0.03981256035008965,
 0.08912251823160008,
 0.004857066049995948,
 0.02673471487582902,
 0.1996380289777084,
 0.08921617135373944,
 0.005335360932639285,
 0.0671402457453434,
 0.17128236790977241,
 0.020642698532509312,
 0.008819304089137156,
 0.09760679192194706,
 0.21838160871871296,
 0.04554130949565842,
 0.03365668289431123,
 0.12297109430325752,
 0.07051788783706475,
 0.008813986294096961,
 0.05412936429582332,
 0.07575096619836773,
 0.021939123587141233,
 0.008894511146981568,
 0.013920953958363543,
 0.015203806955311266,
 0.002491912664564504,
 2.8835072939280667e-05,
 0.0005878298587669056,
 0.003744665849610441,
 0.00933430470458945,
 0.0005473741322552159,
 0.0051430259703567445,
 0.0012332015674299617,
 0.0018735628357120985,
 0.002491736342719075,
 0.00043678209824922937,
 2.4377804044618463e-05,
 0.00011921796494857064,
 9.258215418438881e-05,
 0.0009479301982851377,
 2.3940394852102266e-05,
 2.45276030810578e-05,
 0.0003267101165146399,
 4.72547023974862e-05,
 0.00025706891370965655,
 0.00033383920007037807,
 0.0013915162789850293,
 0.0002353262509164993,
 0.0010453474255244471,
 0.004401384066448618,
 0.0005409323257323222,
 0.00021862158268677148,
 0.0047325103522762755,
 0.003449518343506486,
 4.3880227383834214e-05,
 0.002880230068423566,
 0.043705305584600555,
 0.017186584312916253,
 0.00961769116547151,
 0.05217226634205431,
 0.005234780025032111,
 0.0019303647755688266,
 0.02643469243317102,
 0.008874359324089464,
 0.08745575739088468,
 0.025050345760595803,
 0.11268217194333136,
 0.10237212726327621,
 0.04905895127783869,
 0.13702748787975394,
 0.14749603435977618,
 0.050672121108262504,
 0.07787027959914754,
 0.28386322354758553,
 0.2257674796004108,
 0.030183957618131998,
 0.17755290915849728,
 0.16022302861679058,
 0.23041479093335973,
 0.05392982894161744,
 0.02822947979280118,
 0.08095750758952372,
 0.005665716024368175,
 0.005365715367743612,
 0.08266171224705428,
 0.01206653467422239,
 0.03336922614785556,
 0.02520594319488093,
 0.006697289554237275,
 0.07932499232073316,
 0.014697469501584513,
 0.01736288840795861,
 0.12120935249641197,
 0.01575929088024198,
 0.004035542928593612,
 0.08651019296759165,
 0.12713639891756098,
 0.0054096580890996915,
 0.0003004756692575204,
 0.07301748232127114,
 0.02126604267716437,
 0.0014970965752253993,
 9.088620100290571e-48,
 0.06508938435543203,
 0.004268241182170204,
 9.088620100290571e-48,
 9.088620100290571e-48,
 0.0136122760852675,
 0.021237972790369715,
 9.088620100290571e-48,
 0.008874359324089464,
 0.002549112820118008,
 0.02297718290584536,
 0.007158691085957689,
 0.012700505475601828,
 0.04385672597396561,
 0.0074948213534136825,
 0.0017327388564522554,
 0.03429433551490941,
 0.03563600618733485,
 0.008633239672013474,
 0.008813553835657023,
 0.05979869831854515,
 0.04128171992233201,
 0.002289000937788413,
 0.017360517190018316,
 0.036401211246986816,
 0.009111943240707245,
 0.0022927271271825935,
 0.0008834421801834777,
 0.007535840211853883,
 0.0018288183505983492,
 0.0016602484674033279,
 0.0049897864111204185,
 0.002659718198339451,
 0.00033383920007037807,
 0.0023472589807674565,
 0.002689663134357705,
 0.0005345051690401239,
 0.00047207733546059995,
 0.0012465135647577836,
 0.004442657206401069,
 0.0012421838860658977,
 0.004405397557501011,
 0.007390893207016459,
 0.012918288675719251,
 0.004331214936836585,
 0.0014850106493170985,
 0.010764587031580316,
 0.008066286224856794,
 0.0019459171818874308,
 0.0010713633417839845]

,
        'Betweenness centrality values': [0.0,
 0.001177160148778253,
 0.0,
 0.018551736031243066,
 0.028587285344195315,
 0.006382581029549063,
 0.004314240833578278,
 0.01698497739559849,
 0.025460272284259393,
 0.0011512834199317364,
 0.004137940879433781,
 0.023807488916289938,
 0.0,
 0.00916569793436466,
 0.01044623053118634,
 0.0,
 0.018241974425467225,
 0.009101937448093306,
 0.018241974425467225,
 0.0,
 0.06524142891321691,
 0.03684392938799161,
 0.00916569793436466,
 0.03032365018803999,
 0.04286529749508424,
 0.005438170105097377,
 0.0067663809609943715,
 0.013647744547324269,
 0.0,
 0.0,
 0.022842346026956818,
 0.00916569793436466,
 0.05807330585734285,
 0.0399571756991785,
 0.018241974425467225,
 0.0,
 0.06827876445072169,
 0.04790749312017347,
 0.06273535104989038,
 0.04391169262190634,
 0.04400920541552908,
 0.0065602673613637565,
 0.060116227471349946,
 0.031947700693510814,
 0.0,
 0.0,
 0.07319769441470741,
 0.0,
 0.0,
 0.16173504246978077,
 0.0008653489942052939,
 0.0,
 0.0,
 0.023802030855048385,
 0.007516370277409853,
 0.012880722872839324,
 0.022242984105154733,
 0.013636618505517313,
 0.042331932901899696,
 0.0031595689340589016,
 0.02049477237564724,
 0.0,
 0.010227130431254353,
 0.03433124376877795,
 0.021702468118772286,
 0.019402962830486748,
 0.06714971336026233,
 0.00033294524486512293,
 0.03428932912418873,
 0.0011556001898486029,
 0.07139767824636373,
 0.13069785742277767,
 0.036657995886389516,
 0.05784403577545439,
 0.02907588994475733,
 0.12479475255156801,
 0.05190406977409347,
 0.03982615232859559,
 0.189818252647605,
 0.031155058879603893,
 0.05709360019416851,
 0.016507701627755805,
 0.18410170174006918,
 0.04155722539968765,
 0.010104870080845537,
 0.0,
 0.01687710355197264,
 0.003840827791243601,
 0.005573387361592673,
 0.02993674472861565,
 0.05590146558193986,
 0.02246775934628032,
 0.10724513172630562,
 0.0449298984826346,
 0.0,
 0.010805670851052232,
 0.0342738268864979,
 0.001542519896271126,
 0.020450860877177613,
 0.006777968596130092,
 0.045111349129053874,
 0.0,
 0.0,
 0.006024987022781524,
 0.0,
 0.01094324059747792,
 0.0,
 0.09676379267182082,
 0.02138517364082955,
 0.0271697727913266,
 0.08207560890402707,
 0.06264907475703575,
 0.00916569793436466,
 0.03840559366256754,
 0.0,
 0.0,
 0.007322165962564132,
 0.0778243676143299,
 0.04919277288064692,
 0.016692654851502255,
 0.05158128323225833,
 0.0,
 0.0,
 0.019941093952597765,
 0.0,
 0.05797132356728341,
 0.0004460426753192558,
 0.005884095230212692,
 0.02952884710223697,
 0.02777442867171817,
 0.04913742086289904,
 0.041467321060871205,
 0.02487205926545112,
 0.012439228768067813,
 0.23096305017537377,
 0.07734607662365246,
 0.02147944134850953,
 0.05038964661224262,
 0.02299570422007764,
 0.05094100901267652,
 0.03613038717857501,
 0.024035601535007365,
 0.004391045604271037,
 0.0,
 0.0,
 0.034480502077928216,
 0.00022653432293063874,
 0.00916569793436466,
 0.005646846907318628,
 0.0,
 0.03932208707613327,
 0.006422100024331092,
 0.0,
 0.010115948766176015,
 0.016529692869520232,
 0.001135230235203409,
 0.009224247688881507,
 0.05455462065515255,
 0.012232929705544397,
 0.0,
 0.010143261033897373,
 0.055676036522253114,
 0.00916569793436466,
 0.0,
 0.03938432676634527,
 0.0,
 0.0,
 0.0,
 0.00916569793436466,
 0.007108296655869937,
 0.0,
 0.0,
 0.0,
 0.01579866727015136,
 0.03451660575755184,
 0.009452591731497213,
 0.06224664726239441,
 0.0040278327790623245,
 0.0,
 0.06446266725308623,
 0.0,
 0.00916569793436466,
 0.0,
 0.03794957936752338,
 0.06861006336498701,
 0.013150302729680048,
 0.09433215520895599,
 0.06084970279678201,
 0.023153996041743192,
 0.01919529279834166,
 0.0,
 0.03685206388938161,
 0.0,
 0.06832785654303204,
 0.02318122768960277,
 0.014419324043865756,
 0.0,
 0.016119623479930296,
 0.004723975836378588,
 0.0,
 0.0,
 0.0,
 0.020032720141154935,
 0.0,
 0.009271306787638808,
 0.012253024877097132,
 0.03583347020919517,
 0.015731408837699357,
 0.0,
 0.007731645087453014,
 0.04956431826907294,
 0.0001473679578839196,
 0.0],
        'Degree centrality values': [0.0047169811320754715,
 0.014150943396226415,
 0.009433962264150943,
 0.02830188679245283,
 0.0330188679245283,
 0.014150943396226415,
 0.014150943396226415,
 0.018867924528301886,
 0.02830188679245283,
 0.009433962264150943,
 0.014150943396226415,
 0.023584905660377357,
 0.0047169811320754715,
 0.009433962264150943,
 0.009433962264150943,
 0.0047169811320754715,
 0.009433962264150943,
 0.014150943396226415,
 0.009433962264150943,
 0.0047169811320754715,
 0.023584905660377357,
 0.018867924528301886,
 0.009433962264150943,
 0.018867924528301886,
 0.023584905660377357,
 0.009433962264150943,
 0.018867924528301886,
 0.014150943396226415,
 0.009433962264150943,
 0.0047169811320754715,
 0.018867924528301886,
 0.009433962264150943,
 0.02830188679245283,
 0.018867924528301886,
 0.014150943396226415,
 0.009433962264150943,
 0.02830188679245283,
 0.0330188679245283,
 0.023584905660377357,
 0.014150943396226415,
 0.02830188679245283,
 0.009433962264150943,
 0.018867924528301886,
 0.02830188679245283,
 0.009433962264150943,
 0.0047169811320754715,
 0.014150943396226415,
 0.0047169811320754715,
 0.0047169811320754715,
 0.04716981132075471,
 0.014150943396226415,
 0.0047169811320754715,
 0.0047169811320754715,
 0.018867924528301886,
 0.018867924528301886,
 0.023584905660377357,
 0.0330188679245283,
 0.014150943396226415,
 0.02830188679245283,
 0.009433962264150943,
 0.009433962264150943,
 0.0047169811320754715,
 0.014150943396226415,
 0.023584905660377357,
 0.009433962264150943,
 0.018867924528301886,
 0.0330188679245283,
 0.014150943396226415,
 0.014150943396226415,
 0.014150943396226415,
 0.023584905660377357,
 0.0330188679245283,
 0.009433962264150943,
 0.023584905660377357,
 0.023584905660377357,
 0.018867924528301886,
 0.018867924528301886,
 0.023584905660377357,
 0.014150943396226415,
 0.018867924528301886,
 0.023584905660377357,
 0.023584905660377357,
 0.023584905660377357,
 0.023584905660377357,
 0.009433962264150943,
 0.0047169811320754715,
 0.014150943396226415,
 0.009433962264150943,
 0.009433962264150943,
 0.014150943396226415,
 0.02830188679245283,
 0.014150943396226415,
 0.014150943396226415,
 0.023584905660377357,
 0.0047169811320754715,
 0.014150943396226415,
 0.018867924528301886,
 0.009433962264150943,
 0.014150943396226415,
 0.009433962264150943,
 0.014150943396226415,
 0.0047169811320754715,
 0.0047169811320754715,
 0.009433962264150943,
 0.0047169811320754715,
 0.009433962264150943,
 0.0047169811320754715,
 0.018867924528301886,
 0.018867924528301886,
 0.014150943396226415,
 0.018867924528301886,
 0.018867924528301886,
 0.009433962264150943,
 0.018867924528301886,
 0.0047169811320754715,
 0.0047169811320754715,
 0.009433962264150943,
 0.023584905660377357,
 0.023584905660377357,
 0.018867924528301886,
 0.02830188679245283,
 0.009433962264150943,
 0.0047169811320754715,
 0.018867924528301886,
 0.009433962264150943,
 0.02830188679245283,
 0.009433962264150943,
 0.018867924528301886,
 0.023584905660377357,
 0.023584905660377357,
 0.023584905660377357,
 0.018867924528301886,
 0.014150943396226415,
 0.014150943396226415,
 0.03773584905660377,
 0.02830188679245283,
 0.014150943396226415,
 0.02830188679245283,
 0.018867924528301886,
 0.0330188679245283,
 0.018867924528301886,
 0.023584905660377357,
 0.018867924528301886,
 0.0047169811320754715,
 0.0047169811320754715,
 0.023584905660377357,
 0.009433962264150943,
 0.009433962264150943,
 0.014150943396226415,
 0.0047169811320754715,
 0.018867924528301886,
 0.018867924528301886,
 0.0047169811320754715,
 0.018867924528301886,
 0.018867924528301886,
 0.009433962264150943,
 0.018867924528301886,
 0.02830188679245283,
 0.014150943396226415,
 0.0047169811320754715,
 0.014150943396226415,
 0.018867924528301886,
 0.009433962264150943,
 0.0047169811320754715,
 0.02830188679245283,
 0.0047169811320754715,
 0.0047169811320754715,
 0.0047169811320754715,
 0.009433962264150943,
 0.018867924528301886,
 0.0047169811320754715,
 0.009433962264150943,
 0.0047169811320754715,
 0.023584905660377357,
 0.018867924528301886,
 0.014150943396226415,
 0.023584905660377357,
 0.009433962264150943,
 0.0047169811320754715,
 0.02830188679245283,
 0.0047169811320754715,
 0.009433962264150943,
 0.009433962264150943,
 0.018867924528301886,
 0.023584905660377357,
 0.009433962264150943,
 0.018867924528301886,
 0.018867924528301886,
 0.014150943396226415,
 0.014150943396226415,
 0.0047169811320754715,
 0.014150943396226415,
 0.0047169811320754715,
 0.023584905660377357,
 0.014150943396226415,
 0.018867924528301886,
 0.0047169811320754715,
 0.023584905660377357,
 0.018867924528301886,
 0.0047169811320754715,
 0.0047169811320754715,
 0.009433962264150943,
 0.02830188679245283,
 0.009433962264150943,
 0.018867924528301886,
 0.023584905660377357,
 0.02830188679245283,
 0.023584905660377357,
 0.0047169811320754715,
 0.018867924528301886,
 0.023584905660377357,
 0.014150943396226415,
 0.0047169811320754715]
,
        'Closeness centrality values': [0.11685336329290993,
 0.14411073529212,
 0.13823881997289691,
 0.16052109969587386,
 0.15469073517832668,
 0.1425710906842982,
 0.1396858418149021,
 0.1728582135757813,
 0.16529299035570166,
 0.1307444881259012,
 0.16680817610062892,
 0.18517096329394517,
 0.16474881590185572,
 0.11726409567706779,
 0.13570834665813877,
 0.10469132391252862,
 0.13309162986752307,
 0.12823178175576855,
 0.11207716199370366,
 0.09123510087545794,
 0.15362226501976572,
 0.126290101779656,
 0.10063841695362229,
 0.14027316840977908,
 0.14494555490279126,
 0.11698995401563689,
 0.13443237832152768,
 0.11631017508469187,
 0.12109486468285222,
 0.10393032778855385,
 0.12955974842767295,
 0.10825841607396144,
 0.15505020241731582,
 0.14411073529212,
 0.12160984891904905,
 0.1379530057344967,
 0.1606499288288561,
 0.13814341706056227,
 0.15687289288460401,
 0.1690623406425293,
 0.15374025447062573,
 0.14027316840977908,
 0.18197255574614066,
 0.16420821273236647,
 0.13309162986752307,
 0.15338682859827946,
 0.18901776328683165,
 0.14056868772524908,
 0.0047169811320754715,
 0.19818793200074725,
 0.1518739084375984,
 0.0047169811320754715,
 0.12939225036894295,
 0.16949179620724364,
 0.15457128287316965,
 0.1603924770198355,
 0.16129718881607955,
 0.1491578325788038,
 0.15397677793904208,
 0.12947594522687886,
 0.14226710115192234,
 0.11438274932614556,
 0.13416207193080076,
 0.14860416579120617,
 0.14494555490279126,
 0.12955974842767295,
 0.16736606297721965,
 0.1551703963726781,
 0.1583621925005971,
 0.1501648997154949,
 0.18381066236983903,
 0.1811491505165201,
 0.16722624170489114,
 0.18499982561992118,
 0.19396299546584758,
 0.19191736464118384,
 0.1811491505165201,
 0.1913669324290198,
 0.2042549095109742,
 0.17406070549630845,
 0.1844883053647509,
 0.16708665385705737,
 0.19284182208165196,
 0.16542959613285513,
 0.1588649296196466,
 0.14267270942320365,
 0.15073027960900207,
 0.11671709114912811,
 0.13881401617250674,
 0.15949785762609936,
 0.1728582135757813,
 0.14287638209903977,
 0.16977931409733224,
 0.14146276418427894,
 0.146859729508991,
 0.15164379645511722,
 0.13700876887115312,
 0.11188921817817479,
 0.1297276807004243,
 0.12058422368720163,
 0.14960374538172996,
 0.11451362203704503,
 0.09745365692344436,
 0.13814341706056227,
 0.11543818415268438,
 0.13065914577072762,
 0.13108697532465927,
 0.1593708688859512,
 0.13091550773103644,
 0.13524987251402346,
 0.16340392760877936,
 0.14882513852844215,
 0.11893631094518997,
 0.14949201741654572,
 0.14526111126324726,
 0.10602214582667094,
 0.13747926601700186,
 0.179847090135449,
 0.1706477504865769,
 0.14226710115192234,
 0.17241155152519785,
 0.154332930856403,
 0.12417482091858234,
 0.154332930856403,
 0.1278223571652329,
 0.18082187111179288,
 0.14794516727328508,
 0.16639219561159993,
 0.16340392760877936,
 0.1603924770198355,
 0.18830650171284544,
 0.18017084727340657,
 0.15529077681982523,
 0.17605084548879044,
 0.21114959000079614,
 0.1811491505165201,
 0.14484067389345492,
 0.19191736464118384,
 0.17824560224466138,
 0.1658407715996311,
 0.15873894632890936,
 0.1393940190255952,
 0.15095762543043342,
 0.12198038471709612,
 0.11438274932614556,
 0.1471836847946726,
 0.12168377587887826,
 0.13318018051946423,
 0.13108697532465927,
 0.11719543988334585,
 0.15565304146248424,
 0.12660962132875062,
 0.1239441556165664,
 0.15005233232440385,
 0.13552458450965113,
 0.11879514024970605,
 0.1419644051920246,
 0.16488452332846354,
 0.1293086636438984,
 0.10652996877102433,
 0.14632296149177976,
 0.15315211271672127,
 0.11957575347715337,
 0.0047169811320754715,
 0.15338682859827946,
 0.1323874413497055,
 0.0047169811320754715,
 0.0047169811320754715,
 0.13273860167158802,
 0.13747926601700186,
 0.0047169811320754715,
 0.1278223571652329,
 0.12318142235123368,
 0.14411073529212,
 0.13607737003450354,
 0.14096465585968643,
 0.1658407715996311,
 0.13479448573788197,
 0.1278223571652329,
 0.1631375805385124,
 0.1603924770198355,
 0.14707554101451487,
 0.14096465585968643,
 0.18381066236983903,
 0.1728582135757813,
 0.14579010292844483,
 0.17241155152519785,
 0.1811491505165201,
 0.15457128287316965,
 0.14938045620951845,
 0.1399788890354928,
 0.16891967200063687,
 0.13344654088050314,
 0.15141438072674335,
 0.1579872228261679,
 0.14484067389345492,
 0.13108697532465927,
 0.14226710115192234,
 0.13900681341719076,
 0.1261309460118177,
 0.12417482091858234,
 0.13398247076355738,
 0.14949201741654572,
 0.1408654548351546,
 0.14547224659938568,
 0.14536660226634332,
 0.16977931409733224,
 0.15222038883707584,
 0.1265295899625504,
 0.1600078427823779,
 0.16611602599232758,
 0.13212528800049816,
 0.13626263534428504]

    };

    function linreg(x, y) {
        const n = x.length;
        const sum_x = x.reduce((a, b) => a + b, 0);
        const sum_y = y.reduce((a, b) => a + b, 0);
        const sum_xy = x.map((xi, i) => xi * y[i]).reduce((a, b) => a + b, 0);
        const sum_xx = x.map(xi => xi * xi).reduce((a, b) => a + b, 0);
        const slope = (n * sum_xy - sum_x * sum_y) / (n * sum_xx - sum_x * sum_x);
        const intercept = (sum_y - slope * sum_x) / n;
        const r = sum_xy - sum_x * sum_y / n;
        const r_x = sum_xx - sum_x * sum_x / n;
        const r_y = y.map(yi => yi * yi).reduce((a, b) => a + b, 0) - sum_y * sum_y / n;
        const r_value = r / Math.sqrt(r_x * r_y);
        return { slope, intercept, r_value };
    }

    function updatePlot() {
        const xVal = document.getElementById('x-axis').value;
        const yVal = document.getElementById('y-axis').value;
        const xData = norm_vals[xVal];
        const yData = norm_vals[yVal];
        const { slope, intercept, r_value } = linreg(xData, yData);
        const regressionLine = xData.map(xi => slope * xi + intercept);
        const rText = `R: ${r_value.toFixed(2)}`;
        const rSquaredText = `R-squared: ${(r_value * r_value).toFixed(2)}`;

        const trace1 = {
            x: xData,
            y: yData,
            mode: 'markers',
            type: 'scatter',
            name: 'Data Points'
        };

        const trace2 = {
            x: xData,
            y: regressionLine,
            mode: 'lines',
            name: `Regression Line (${rText}, ${rSquaredText})`
        };

        const data = [trace1, trace2];

        const layout = {
            title: 'Scatterplot with Regression Analysis',
            xaxis: { title: xVal },
            yaxis: { title: yVal },
            template: 'ggplot2',
            legend: {
                x: 0,
                y: -0.5,
                traceorder: 'normal',
                font: { family: 'sans-serif', size: 12, color: 'black' },
                bgcolor: 'rgba(0,0,0,0)',
                bordercolor: 'rgba(0,0,0,0)'
            }
        };

        Plotly.newPlot('plot', data, layout);
    }

    // Initialize plot with default values
    document.addEventListener('DOMContentLoaded', updatePlot);
</script>

</body>
</html>
